window.EventEmitter=function(){function t(){this.listeners={}}return t.prototype={on:function(t,e){return this._checkEvent(t),this.listeners[t].push(e),this},off:function(t,e){return this._checkEvent(t),this.listeners[t]=this.listeners[t].filter(function(t){return t!=e}),this},emit:function(t,e){try{this._checkEvent(t),e||(e={});var n=this,r=!0;return this.listeners[t].forEach(function(i){try{r=!1!==i.call(n,e)&&r}catch(n){console.error("Couldn't call event listener '%s' with data %O",t,e,i,n)}}),r}catch(n){return console.error(n),console.error("Couldn't emit event '%s' with data %O",t,e),!1}},_checkEvent:function(t){if("string"!=typeof t)throw new Error("Invalid event name passed expected string got "+typeof t,t);void 0===this.listeners[t]&&(this.listeners[t]=[])}},t}(window,jQuery);
window.Ajax=function(e,r){var n={};return n.request=function(e,n){var t,o,u=!1;return t=new Promise(function(t,a){o=r.ajax({url:"/",type:e,data:n,dataType:"json"}).done(function(e){if(!u)if(e.success)t(e);else{var r=new Error(e.message);r.data=e,a(r)}}).fail(function(e){if(!u){var r,n=e.responseJSON;"object"==typeof n?(r=new Error(n.message),r.data=e.responseJSON):(r=new Error("Connection error occurred, please try again"),r.data=void 0),a(r)}})}),void 0!==t.__proto__&&(t.__proto__.abort=function(){return u=!0,o&&o.abort(),this}),t},n.get=function(e){return n.request("GET",e)},n.post=function(e){return n.request("POST",e)},n.delete=function(e){return n.request("DELETE",e)},n.put=function(e){return n.request("PUT",e)},n}(window,jQuery);
window.CompatibilityCheck=function(e,i){var t={};return t.isIE=function(e,t){if(i.isArray(e)){var a=arguments.callee,o=!1;return i.each(e,function(e,i){if(1==a(i))return o=!0,!1}),o}var n,r="IE",c=document.createElement("B"),m=document.documentElement;if(e){if(10==e)return-1!==navigator.appVersion.indexOf("MSIE 10");if(11==e)return/Trident.*rv[ :]*11\./.test(navigator.userAgent);r+=" "+e,t&&(r=t+" "+r)}return c.innerHTML="\x3c!--[if "+r+']><b id="iecctest"></b><![endif]--\x3e',m.appendChild(c),n=!!document.getElementById("iecctest"),m.removeChild(c),n},t.isMobile=function(){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4))},t}(window,$);
window.FormValidator=function(e,t){function i(e,s){EventEmitter.call(this),s=t.extend(!0,t.extend(!0,{},i.defaultOptions),"object"==typeof s?s:{}),this.options=s,this.$input=e,this.type=e.is("[data-type]")?e.attr("data-type"):e.attr("type");var a;a=t.isFunction(s.getMessageElement)?s.getMessageElement.call(this):e.siblings(s.getMessageElement).hide(),this.$message=a.hide(),e.on(s.events,this.validate.bind(this)).data("Validator",this)}var s=function(e,s){EventEmitter.call(this),e.data("Validator",this);var a=this;s=t.extend(!0,{inputs:{},inputOptions:{}},"object"==typeof s?s:{}),this.options=s,this.$form=e,this.inputs=[],e.find("input,select,textarea").filter(":not(.js-no-validate):not([type=button]):not([type=submit]):not([type=radio])").each(function(){var e=new i(t(this),t.extend(!0,{},s.inputOptions,s.inputs[t(this).attr("name")]));a.inputs.push(e),e.on("valid",function(t){a.emit("input:valid",{input:e,event:t})}).on("invalid",function(t){a.emit("input:invalid",{input:e,event:t})})}),e.on("submit",function(){if(a.validate()){if(!a.emit("submit",a.$form))return!0}else a.emit("invalid",a.$form);return!1}),setTimeout(function(){a.emit("init",a)},0)};return s.prototype={validate:function(){var e=!0;return t.each(this.inputs,function(t,i){i.validate()||(e=!1)}),e=this.emit("validate",this)&&e}},i.prototype={getMessage:function(e){return t.isFunction(this.options.getMessage)?this.options.getMessage.call(this,e):this.options.getMessage},valid:function(){return this._validate().valid},validate:function(){var e=this._validate();return e.valid?this.emit("valid",e)&&(this.options.hasSuccess&&!e.hideMessage?this.showMessage(this.getMessage("success"),"valid"):this.hideMessage()):this.emit("invalid",e)&&this.showMessage(e.message,"invalid"),e.valid},_validate:function(){var e,i=!0,s="",a=!1;if(this.$input.is(":checkbox"))e=this.$input.is(":checked"),e||this.$input.is("[data-optional]")?i=!0:(i=!1,s=this.getMessage("unchecked"));else if(e=this.$input.val().trim(),0==e.length)this.$input.is("[data-optional]")?(i=!0,a=!0):(i=!1,s=this.getMessage("empty"));else switch(this.type){case"email":/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)||(i=!1,s=this.getMessage("invalidEmail"));break;case"number":var n=this.$input.is("[data-number]")?this.$input.attr("data-number"):"both";t.isNumeric(e)?(e=parseFloat(e),"positive"==n&&e<0?(i=!1,s=this.getMessage("invalidPositiveNumber")):"negative"==n&&e>0&&(i=!1,s=this.getMessage("invalidNegativeNumber"))):(i=!1,s=this.getMessage("invalidNumber"));break;case"tel":/^\d{7,}$/.test(e.replace(/[\s()+\-\.]|ext/gi,""))||(i=!1,s=this.getMessage("invalidPhone"))}var o={valid:i,message:s};return i=this.emit("validate",o)&&o.valid,{valid:i,message:o.message,hideMessage:a}},showMessage:function(e,t){this.$message.text(e).removeClass(this.options.classes.valid+" "+this.options.classes.invalid).addClass("valid"==t?this.options.classes.valid:this.options.classes.invalid).show(),"invalid"==t?this.$input.addClass("form__element--error"):this.$input.removeClass("form__element--error")},hideMessage:function(){this.$message.hide()}},jQuery.extend(!0,s.prototype,EventEmitter.prototype),jQuery.extend(!0,i.prototype,EventEmitter.prototype),s.attach=function(e,t){return new s(e,t)},i.defaultOptions={messages:{empty:"This value is required",unchecked:"This value is required",invalidEmail:"Please enter a valid email address",success:"",invalidNumber:"Please enter a number",invalidPositiveNumber:"Please enter a positive number",invalidNegativeNumber:"Please enter a negative number",invalidPhone:"Please enter a valid phone number"},hasSuccess:!0,getMessage:function(e){return this.options.messages[e]},getMessageElement:".js-inline-message",events:"change blur",classes:{valid:"form__message--success",invalid:"form__message--invalid"}},s.FormInput=i,s}(window,jQuery);
window.Page=function(e,a){var t={_pages:{},$currentPage:!1},n=!1,o=e.location.href,r={$page:a("main"),on:function(e,a,t){return r.events.push([].slice.call(arguments,0)),r.$page.on(e,a,t),r},reset:function(){r.events.forEach(function(arguments){r.$page.off(arguments[0],arguments[1],arguments[2])}),r.events=[]},events:[]};return t.init=function(){t.handlePage(e.location.pathname,a(".outer-container")),e.onpopstate=function(){o!=e.location.href&&t.loadPage(e.location.href,!0)}},t.register=function(e,n){a.isArray(e)||(e=[e]),a.each(e,function(e,a){"string"==typeof a&&(a=new RegExp("^"+a+"$"));var o=a.toString();t._pages[o.substr(1,o.length-2)]=n})},t.loadPage=function(n,o){return new Promise(function(r,i){return void 0===n?void i():void 0===e.history.pushState?void(e.location.href=n):(PageAnimations.stop(),a("body").addClass("page-transition").removeClass("show-main-navigation"),setTimeout(function(){a("body").addClass("page-transition--loading")},900),void minimumTimeout(t._loadPage(n),2500).then(function(r){a("body").removeClass("page-transition--loading");var i=document.createElement("html");i.innerHTML=r;var s=a(i);e.$data=s,a(".ajax-overlay--inner").hide(),a("body").attr("class",s.find("body").attr("class")).addClass("page-transition header-transition has-js"),a("head title").text(s.find("head title").text()),s.find("head meta[name='description']").length>0&&a("head meta[name='description']").attr("content",s.find("head meta[name='description']").attr("content")),a("#svgIcons").append(s.find("#svgIcons").html());var c=s.find(".main-container");if(1!==c.length)return void(e.location.href=n);a(".main-container").html(c.html()),setTimeout(function(){a(".vr-header").is(".vr-header-small")&&a(".js-ajax-overlay").addClass("ajax-overlay--small"),a(".vr-header").length>0?a(".js-ajax-overlay").css("height",a(".vr-header").outerHeight()+"px"):a("body").addClass("trans-left"),o||e.history.pushState({},"Archiact",n),ccurrentPage=e.location.href,ga("send","pageview");var r=document.createElement("a");r.href=n,n=r.pathname,"/"!=n[0]&&(n="/"+n),a("body,html").scrollTop(0),protectExternalLinks(),t.handlePage(n,c)},400)}).catch(function(){e.location.href=n}))})},t.handlePage=function(e,n){t.$currentPage=n;var o,i=!1;if(a.each(t._pages,function(a,t){if(o=new RegExp(a),o.test(e))return i=t,!1}),r.reset(),r.$page=a("main"),VRParallaxText.destroy(),"function"==typeof i){var s=o.exec(e);s.shift();try{i(s,r)}catch(e){console.error("Page handler caused error: ",e)}}else console.log("No page handler for ",e),console.trace();setTimeout(function(){a("body").removeClass("page-transition header-transition trans-left"),setTimeout(function(){a(".ajax-overlay").css("height",""),a(".ajax-overlay--inner").show()},800)},400),PageAnimations.start()},t.reload=function(){t.loadPage(e.location.href,!0)},t._loadPage=function(e){return new Promise(function(t,o){n&&n.abort(),n=a.ajax({url:e,method:"GET"}).success(function(e){t(e)}).fail(function(e,a,n){"abort"!=a&&t(e.responseText)})})},t}(window,jQuery);
window.PageAnimations=function(t,a){var s={};s.start=function(){s.stop(),s.check(),a(t).on("scroll resize",e)},s.stop=function(){a(t).off("scroll resize",e)},s.check=function(){var s=a(t).height(),e=a(t).scrollTop()+s,i=/^(a|a__.+)$/;a(".a:not(.a--play)").each(function(){var t=a(this),o=t.is("[data-threshold]")?parseInt(t.attr("data-threshold")):30;if(a(this).offset().top+o*s/100<e&&(t.addClass("a--play").trigger("animation-start"),!t.is("[data-keep-classes]"))){var n=t.is("[data-timeout]")?parseInt(t.attr("data-timeout")):1e3;setTimeout(function(){t.find(".a__i").add(t).each(function(s,e){if(a(this).attr("class")&&!t.is("[data-keep-classes]")){var o=a(this).attr("class").split(/\s+/);a.each(o,function(t,s){i.test(s)&&a(e).removeClass(s)})}})},n)}})};var e=throttle(s.check,50);return s}(window,jQuery);
window.VRParallaxText=function(e,t){var n={},i={x:$(e).width()/2,y:$(e).height()/2};n.init=function(){n.registerEvents()},n.registerEvents=function(){$(".js-vr-header").on("mousemove",r),e.addEventListener("resize",n.updateElements)},n.destroy=function(){$(".js-vr-header").off("mousemove",r,100),e.removeEventListener("resize",n.updateElements)},n.onMouseMove_=function(t){if(!($(e).width()<960)){var n=-(t.offsetX-i.x)/i.x*100*.025,r=-(t.offsetY-i.y)/i.y*100*.0125;$(".js-parallax-item").each(function(e,t){var i=parseInt($(this).attr("data-depth"));$(this).css({"margin-top":r*i+"%","margin-left":n*i+"%"})})}},n.updateElements=function(){$(e).width()>=960?i={x:$(e).width()/2,y:$(e).height()/2}:$(".js-parallax-item").css({"margin-top":0,"margin-left":0})},n.matchPageHeight=function(){$(".js-vr-header").css("min-height",$(e).height()+"px")};var r=throttle(n.onMouseMove_,100);return n}(window,jQuery);
function sticky_header(){$("body").toggleClass("sticky-navigation",$(this).scrollTop()>20)}function minimumTimeout(e,t){return Promise.all([e,new Promise(function(e){setTimeout(e,t)})]).then(function(e){return e[0]})}function protectExternalLinks(){$("a[target='_blank']:not([rel])").attr("rel","noopener noreferrer")}function randomString(e,t){t||(t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789");for(var a=t.split(""),n="",o=0;o<e;o++)n+=a[Math.round(Math.random()*a.length-1)];return n}function numberWithCommas(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function swapImage(e){e.addClass("chosen");var t=e.attr("href"),a=e.attr("data-low-res"),n=new Image;n.src=t,n.onload=n.onerror=function(){window.location.origin+$(".gallery-image__image:not(.gallery-image__image--hidden) img").attr("data-current")==n.src&&$(".gallery-image__image:not(.gallery-image__image--hidden) img").attr("src",n.src)},$(".js-gallery-bg span.gal-img--hidden").css("background-image",'url("'+a+'")').addClass("alt"),$(".gallery-image .gallery-image__image--hidden").addClass("alt").find("img").attr("src",a).attr("data-current",t),$(".gallery-image__image").removeClass("gallery-image__image--hidden"),$(".gal-img").removeClass("gal-img--hidden"),setTimeout(function(){$(".gallery-image__image:not(.alt)").addClass("gallery-image__image--hidden"),$(".gal-img:not(.alt)").addClass("gal-img--hidden"),setTimeout(function(){$(".gallery-image__image").removeClass("alt"),$(".gal-img").removeClass("alt"),galAnimating=!1})})}function modalWindow(e){$("body").addClass("show-gallery"),setTimeout(function(){var t=e.position().top-$(window).scrollTop(),a=e.position().left+parseInt(e.css("margin-left")),n=e.outerWidth(),o=e.outerHeight(),i=e.attr("href"),r=e.attr("data-low-res"),s=e.attr("data-orientation");e.addClass("chosen");var l=new Image;l.src=i,l.onload=l.onerror=function(){window.location.origin+$(".gallery-image__image:not(.gallery-image__image--hidden) img").attr("data-current")==l.src&&$(".gallery-image__image:not(.gallery-image__image--hidden) img").attr("src",l.src)},$(".gallery-image").css({top:t+"px",left:a+"px",right:$(window).width()-a-n+"px",bottom:$(window).height()-t-o+"px"}).find("img").attr("src",r).attr("data-current",i),$(".js-gallery-bg span").css("background-image",'url("'+r+'")'),setTimeout(function(){$("body").addClass("show-gallery-full show-gallery-"+s)},100)})}function numberCounterAnimation(e){e.data("counterInterval")&&clearInterval(e.data("counterInterval"));var t=e.attr("data-decimal"),a=void 0!==t,n=a?parseFloat(e.attr("data-count")):parseInt(e.attr("data-count")),o=0,i=n/120,r=setInterval(function(){o+=i,o>=n?(clearInterval(r),e.text(numberWithCommas(n))):a?e.text(o.toFixed(1)):e.text(numberWithCommas(Math.round(o)))},25);e.data("counterInterval",r)}$(function(){Page.init(),$("body").addClass("has-js"),$("body").on("click",".js-show-nav",function(){return $("body").addClass("show-main-navigation"),!1}).on("click",".js-nav-close",function(){return $("body").removeClass("show-main-navigation"),!1}).on("click",".js-load-more-games",function(){var e=$(this).addClass("button--loading"),t=$(".js-game").length,a=$(this).attr("data-amount"),n=$(this).attr("data-type");return $(".js-load-more-holder .js-error-holder").hide(),minimumTimeout(Ajax.get({loadMoreGames:!0,type:n,from:t,amount:a}),1e3).then(function(t){e.removeClass("button--loading"),$.each(t.games,function(e,t){$(".js-load-more-holder").before(t)}),t.more||$(".js-load-more-holder").hide()}).catch(function(t){e.removeClass("button--loading"),$(".js-load-more-holder .js-error-holder").text(t.message).show()}),!1}).on("click",".js-view-all-games",function(){var e=$(this).addClass("button--loading"),t=$(this).attr("data-type");return $(".js-load-more-holder .js-error-holder").hide(),minimumTimeout(Ajax.get({loadAllGames:!0,type:t}),1e3).then(function(t){e.removeClass("button--loading"),$(".js-load-more-holder").hide();var a=$(".js-load-more-holder").parent().html("");$.each(t.games,function(e,t){a.append(t)})}).catch(function(t){e.removeClass("button--loading"),$(".js-load-more-holder .js-error-holder").text(t.message).show()}),!1}).on("click","a",function(e){return!!(e.ctrlKey||$(this).is("[href^='#']")||$(this).is("[href^='http']")||$(this).is(".js-no-ajax")||$(this).is("[rel='external']")||$(this).is("[target='_blank']"))||(Page.loadPage($(this).attr("href"),!1),!1)}).on("submit",".js-newsletter-form",function(){var e=$(this);return e.find(".js-newsletter-submit").addClass("button--loading"),e.find(".js-newsletter-popup-error").removeClass("popup-error--shown"),minimumTimeout(Ajax.post({mailchimp_subscribe:!0,email:e.find(".js-email").val(),list:e.find(".js-list").val()}),1500).then(function(t){e.find(".js-newsletter-submit").removeClass("button--loading");var a=t.message,n='<div class="success-box"><span class="success-box__icon"><svg><use xlink:href="#success-icon"></use></svg></span><span class="success-box__text"><h5>You have successfully subscribed</h5><p>'+a+"</p></span></div>";e.find(".js-newsletter-content-replace").html(n)}).catch(function(t){e.find(".js-newsletter-submit").removeClass("button--loading"),e.find(".js-newsletter-popup-error").addClass("popup-error--shown").find(".popup-error__text").text(t.message)}),!1}).on("click",function(e){if($(e.target).is("body.show-main-navigation"))return $("body").removeClass("show-main-navigation"),!1}).on("click",".js-dropdown-nav",function(){return $(this).toggleClass("main-navigation__dropdown-icon--open"),$(this).siblings(".main-navigation__dropdown").slideToggle(200),!1}).on("click",".js-view-all",function(){return $(this).parent().slideUp(200),$(".team-flex .team-flex__item-holder").stop().slideDown(200).addClass("team-flex__item-holder--mobile-show team-flex__item-holder--tablet-show"),!1}),protectExternalLinks(),$("html").attr("data-useragent",navigator.userAgent),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&$("html").addClass("ios")}),function(e,t,a,n,o,i,r){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(a),r=t.getElementsByTagName(a)[0],i.async=1,i.src="https://www.google-analytics.com/analytics.js",r.parentNode.insertBefore(i,r)}(window,document,"script",0,"ga"),ga("create","UA-83951131-1","auto"),ga("send","pageview"),$(window,"html").on("scroll",sticky_header),function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var a=document.createEvent("CustomEvent");return a.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),a}if("function"==typeof window.CustomEvent)return!1;e.prototype=window.Event.prototype,window.CustomEvent=e}();var galAnimating=!1;
window.PlaceholderToggle=function(n,e){var t={};return t.init=function(){t.registerEvents()},t.registerEvents=function(){$(".js-input-placeholder-toggle").each(function(n,e){$(this).on("change focus blur keyup keydown",function(){t.onInputUpdate_($(this))})})},t.onInputUpdate_=function(n){n.siblings(".js-input-placeholder").toggleClass("input-placeholder--hidden",n.val().length>0)},t}(window,jQuery);
window.StickySidebar=function(t,s){var e={};return e.init=function(){e.registerEvents()},e.registerEvents=function(){$(t).on("scroll resize",e.update)},e.update=function(){var s=!1;if($(t).width()>=760){var e=$(".js-sticky-sidebar").outerHeight()+parseInt($(".js-offset-top").css("padding-top"))+parseInt($(".js-container").css("padding-bottom")),i=$("header").outerHeight();s=e+i<$(t).height()}if(s)if($(t).scrollTop()+i>=$(".js-offset-top").offset().top){var o=$(t).scrollTop()+i-$(".js-offset-top").offset().top,r=$(".js-offset-top").outerHeight()-e;o>r&&(o=r),$(".js-sticky-sidebar").css("margin-top",o+"px")}else $(".js-sticky-sidebar").css("margin-top","0px");else $(".js-sticky-sidebar").css("margin-top","0px")},e}(window,jQuery);
window.testimonialsSlider=function(t,i){var e,n={};return n.init=function(t){e=t,n.registerEvents(),n.setHeight()},n.registerEvents=function(){$("body").on("click",".js-pagination-button",function(){return n.changeSlide($(this).attr("data-id")),!1}),$(t).on("resize",n.setHeight)},n.changeSlide=function(t){$(".js-pagination-button").removeClass("ts__pagination-item--active"),$(".js-slide").removeClass("ts__item--active"),$('.js-pagination-button[data-id="'+t+'"]').addClass("ts__pagination-item--active"),$('.js-slide[data-id="'+t+'"]').addClass("ts__item--active")},n.setHeight=function(){var t=0;e.find(".js-slide").each(function(){t=Math.max(t,$(this).outerHeight())}),e.css("min-height",t+"px")},n}(window,jQuery);
Page.register("/arena-matrix",function(i,t){function e(){$("body").removeClass("show-specification"),$(".specification__overlay").removeClass("specification__overlay--shown"),$(".specification__holder").removeClass("specification__holder--shown")}var o=[{key:"weekly",value:10},{key:"monthly",value:40},{key:"annual",value:520}];$(".js-event-stats").on("animation-start",function(){setTimeout(function(){$(".js-counter").each(function(){numberCounterAnimation($(this))})},1e3)}),$(".js-counter").text("0"),$("body").on("click",".js-swap",function(){return o.push(o.shift()),$(this).text(o[0].key),$(".js-counter-alt").text(0).attr("data-count",o[0].value),numberCounterAnimation($(".js-counter-alt")),!1}).on("click",".js-show-specification",function(){return $("body").addClass("show-specification"),$(".specification__overlay").addClass("specification__overlay--shown"),$('.specification__holder[data-popup="'+$(this).attr("data-popup")+'"]').addClass("specification__holder--shown"),!1}).on("click",".js-hide-specification",function(){return e(),!1}).on("click touch",function(i){var t=$(i.target);if($("body").is(".show-specification")&&!t.is("specification__holder")&&0==t.parents(".specification__holder").length)return e(),!1}),$(".js-youtube-popup").magnificPopup({type:"iframe"}),testimonialsSlider.init($(".js-testimonials-section"))});
Page.register(new RegExp("^/(about|entertainment|solutions|business)?$"),function(e,a){VRParallaxText.init();var i=new Image;i.src=$("a-sky").attr("src"),i.onload=i.onerror=function(){setTimeout(function(){$(".vr-header__image").addClass("vr-header__image--shown")},500)},/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&$(".vr-header, .vr-header .a-canvas").css("min-height",$(window).height()+"px")});
function blogStickyScroll(){var t=$(".js-blog-article");if(!(t.length<=0))if($(window).width()<760)$(".js-sticky-elm").css("margin-top",0);else{var e=Math.max(Math.min($(window).scrollTop()-t.offset().top+165,t.height()-165-$(".js-sticky-elm").outerHeight()),0);$(".js-sticky-elm").css("margin-top",e+"px")}}Page.register(new RegExp("^/blog(?!(/page|/category|/search|/confirm|/unsubscribe))(/[a-z-0-9]+)/?"),function(t,e){function s(){$(".twitter-tweet").each(function(){var t=$(this),e=$(this).parent().attr("data-oembed-url").split("#")[0].split("/");twttr.widgets.createTweet(e.pop(),$(this).parent()[0]).then(function(){t.remove()})})}var o=JSON.parse($(".js-disqus-config").text());window.disqus_config=function(){this.page.url=window.location.href,$.each(o,function(t,e){this.page[t]=e}.bind(this))},CompatibilityCheck.isIE([10,11])?$(".blog-comments-toggle").hide():$(".js-blog-comments").hide(),function(){var t=document,e=t.createElement("script");e.src="//"+o.disqus_shortname+".disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e),e=t.createElement("script"),e.id="dsq-count-scr",e.src="//archiact-testing.disqus.com/count.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}(),window.twttr||(window.twttr=function(t,e,s){var o,n=t.getElementsByTagName(e)[0],i=window.twttr||{};return t.getElementById(s)?i:(o=t.createElement(e),o.id=s,o.src="https://platform.twitter.com/widgets.js",n.parentNode.insertBefore(o,n),i._e=[],i.ready=function(t){i._e.push(t)},i)}(document,"script","twitter-wjs")),window.twttr.ready(s),window.fbAsyncInit=function(){FB.init({appId:"1060109310770009",xfbml:!0,version:"v2.7"})},window.FB?window.fbAsyncInit():function(t,e,s){var o,n=t.getElementsByTagName(e)[0];t.getElementById(s)||(o=t.createElement(e),o.id=s,o.src="//connect.facebook.net/en_US/sdk.js",n.parentNode.insertBefore(o,n))}(document,"script","facebook-jssdk"),window.instgrm?instgrm.Embeds.process():function(t,e,s){var o,n=t.getElementsByTagName(e)[0];t.getElementById(s)||(o=t.createElement(e),o.id=s,o.src="https://platform.instagram.com/en_US/embeds.js",n.parentNode.insertBefore(o,n))}(document,"script","intagram-embed-api"),e.on("click",".js-blog-toggle",function(){return CompatibilityCheck.isIE([10,11])||($(this).parent().toggleClass("blog-comments-toggle--shown"),$(".js-blog-comments").slideToggle(200)),!1}).on("submit",".js-blog-signup-form",function(){var t=$(this),e=t.find('button[type="submit"]').addClass("button--loading");return t.find(".js-blog-popup-error").removeClass("popup-error--shown"),minimumTimeout(Ajax.post({blog_subscribe:!0,email:t.find(".js-email").val()}),1500).then(function(t){e.removeClass("button--loading");var s='<span class="blog-signup__center"><span class="blog-signup__icon-success"><svg><use xlink:href="#success-icon"></use></svg></span> <h4>Nearly There!</h4><p>Thanks for signing up to blog updates - we\'ve sent an email to <strong>'+t.email+"</strong>. Click the link in the message confirm your subscription</p> </span>";$(".js-signup-replace").html(s)}).catch(function(s){e.removeClass("button--loading"),t.find(".js-blog-popup-error").addClass("popup-error--shown").find(".popup-error__text").text(s.message)}),!1});for(var n=[],i=document.querySelectorAll("thead"),r=document.querySelectorAll("tbody"),a=0;a<i.length;a++){n[a]=[];for(var c,l=0;c=i[a].rows[0].cells[l];l++)n[a].push(c.textContent)}for(var d,m=0;d=r[m];m++)for(var g,a=0;g=d.rows[a];a++)for(var p,l=0;p=g.cells[l];l++)p.setAttribute("data-th",n[m][l]);$(window).off("scroll resize",blogStickyScroll).on("scroll resize",blogStickyScroll),blogStickyScroll()});
Page.register(new RegExp("^/blog(/category|/page)?/?"),function(o,e){e.on("click",".js-filter-dropdown",function(){return $(".blog-strip").toggleClass("blog-strip--mobile-show"),!1}).on("click",".js-search-toggle",function(){return $(".blog-strip__search-bg").css("top",$(".blog-strip").offset().top-$(window).scrollTop()+$(".blog-strip").outerHeight()/2+"px"),$("body").addClass("show-search"),$(".js-query").focus(),!1}).on("click",".js-search-close",function(){return $("body").removeClass("show-search"),!1}).on("submit",".js-search-form",function(){var o=$(this).find(".js-query").val();return o.trim().length>0&&Page.loadPage("/blog/search?query="+encodeURIComponent(o.trim())),!1}).on("change keyup",".js-query",function(){$(".js-query").val($(this).val())})});
Page.register("/careers",function(e,t){var a,n=document.getElementById("BambooHR-ATS"),o=0;"XDomainRequest"in window&&null!==window.XDomainRequest&&document.documentMode<10?(a=new XDomainRequest,o=1):a=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),1==o?(a.onload=loadd,a.open("GET","//archiactinteractive.bamboohr.com/jobs/embed2.php"),a.send()):(a.onreadystatechange=function(){if(4==a.readyState&&200==a.status){var e=a.responseText,t=document.createElement("html");t.innerHTML=e;$(t).find(".BambooHR-ATS-Department-Item").each(function(e,t){var a=$("<div>").addClass("jot__department"),o=$(t),d=$("<div>").addClass("jot__positions");a.append($("<div>").addClass("jot__department-header").append($("<h3>").text(o.find(".BambooHR-ATS-Department-Header").text()))),o.find(".BambooHR-ATS-Jobs-Item").each(function(e,t){var a=$(t);d.append($("<a>").addClass("jot__position").attr("href",a.find("a").attr("href")).attr("target","_blank").append($("<h5>").text(a.find("a").text())).append($("<p>").text(a.find("span").text())))}),a.append(d),$(n).append(a)})}},a.open("GET","//archiactinteractive.bamboohr.com/jobs/embed2.php",!0),a.send())});
Page.register("/contact$",function(e,s){VRParallaxText.init();var a={name:"Please enter your name",inquiry:"Please enter your inquiry"};FormValidator.attach($(".js-contact-form"),{inputs:{email:{messages:{empty:"Please enter your email address",invalidEmail:"Please enter a valid email address"}}},inputOptions:{getMessage:function(e){var s=this.$input.attr("name");return void 0!==a[s]?"success"==e?"":a[s]:(console.log(2,s,this.options),this.options.messages[e])}}}).on("submit",function(e){e.removeClass("form--success form--error");var s=e.find("button[type='submit']").addClass("button--loading");minimumTimeout(Ajax.post({contact:!0,ajax:!0,name:e.find(".js-name").val(),company:e.find(".js-company").val(),telephone:e.find(".js-telephone").val(),email:e.find(".js-email").val(),"inquiry-subject":e.find(".js-inquiry-subject").val(),inquiry:e.find(".js-enquiry").val()}),1e3).then(function(a){s.removeClass("button--loading").addClass("button--submit-success").attr("disabled",!0),e.addClass("form--success"),e.find("input,textarea").attr("readonly",!0),e.find("select").attr("disabled",!0)}).catch(function(a){s.removeClass("button--loading"),e.addClass("form--error").find(".js-error-message").text(a.message)})}).on("invalid",function(e){e.removeClass("form--success form--error");e.find("button[type='submit']").addClass("button--loading");$(".js-inline-message").hide(),$(".form__element--error").removeClass("form__element--error").addClass("form__element--error-alt"),setTimeout(function(){e.removeClass("form--success").addClass("form--error").find(".js-error-message").text("We just need a bit more information from you - please double check the fields highlighted in red, fix the errors and resubmit the form."),e.find("button[type='submit']").removeClass("button--loading"),$(".form__element--error-alt").removeClass("form__element--error-alt").addClass("form__element--error").siblings(".js-inline-message").show()},2e3)}),$("select").each(function(){customSelect($(this))});var t=new Image;t.src=$("a-sky").attr("src"),t.onload=t.onerror=function(){setTimeout(function(){$(".vr-header__image").addClass("vr-header__image--shown")},500)},/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&$(".vr-header, .vr-header .a-canvas").css("min-height",$(window).height()+"px")});
Page.register(["/cvr","/cvr-2017"],function(e,a){function t(e){$(".js-play-icon").removeClass("header-text__play-icon--loading"),$(".js-hide-elements").toggleClass("vr-header--hidden-elements",e)}function o(){var e=$(".js-testimonial-item").length,a=$(window).width()<600?100:$(window).width()<960?50:33.33333,t=Math.ceil(e*a/100);$(".js-testimonials-pagination").html(""),$(".js-testimonial-track").css({width:e*a+"%",transform:"translateX(0)","-webkit-transform":"translateX(0)","-moz-transform":"translateX(0)","-ms-transform":"translateX(0)","-o-transform":"translateX(0)"});for(var o=0;o<t;o++){var n=$("<button>").addClass("testimonials__pagination-item js-pag-item").attr("data-slide",o);0==o&&n.addClass("testimonials__pagination-item--active"),$(".js-testimonials-pagination").append(n)}}function n(e){var a=100/$(".js-testimonial-item").length,t=$(window).width()<600?1:$(window).width()<960?2:3,o=a*t,n=o*e;$(".js-testimonial-track").css({transform:"translateX(-"+n+"%)","-webkit-transform":"translateX(-"+n+"%)","-moz-transform":"translateX(-"+n+"%)","-ms-transform":"translateX(-"+n+"%)","-o-transform":"translateX(-"+n+"%)"})}var r,i=!1,s=!1;if(window.onYouTubeIframeAPIReady=function(){window.youtubeLoaded=!0;var e=randomString(20),a=$("#player").attr("data-vidid");$("#player").attr("id","player-"+e),r=new YT.Player("player-"+e,{origin:window.location.href,videoId:a,playerVars:{autoplay:0,controls:0,modestbranding:1,disablekb:0,showinfo:0,rel:0},events:{onReady:function(e){i=!0,r.setVolume(30),s&&r.playVideo()},onStateChange:function(e){e.data==YT.PlayerState.PLAYING?t(!0):e.data==YT.PlayerState.PAUSED?t(!1):e.data==YT.PlayerState.ENDED&&(t(!1),r.seekTo(0),r.pauseVideo())}}})},void 0===window.youtubeLoaded){window.youtubeLoaded=!1;var l=document.createElement("script");l.src="https://www.youtube.com/iframe_api";var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(l,d)}else!0===window.youtubeLoaded&&window.onYouTubeIframeAPIReady();/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&$(".vr-header, .vr-header .a-canvas").css("min-height",$(window).height()+"px"),$("body").on("click",".js-play-icon",function(){if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream)return t(!0),!1;$(".js-play-icon").addClass("header-text__play-icon--loading"),i?r.playVideo():s=!0}).on("click",".js-pag-item",function(){return $(".js-pag-item").removeClass("testimonials__pagination-item--active"),n($(this).attr("data-slide")),$(this).addClass("testimonials__pagination-item--active"),!1}).on("click",".js-gallery-image",function(){return modalWindow($(this)),!1}).on("click",".js-close-gallery",function(){return $(".js-gallery-image").removeClass("chosen"),$("body").removeClass("show-gallery show-gallery-full show-gallery-portrait show-gallery-landscape"),!1}).on("click",".js-next-arrow",function(){if(galAnimating)return!1;galAnimating=!0;var e=$(".js-gallery-image.chosen"),a=$(e).index()+1;$(e).removeClass("chosen"),a>=$(".js-gallery-image").length&&(a=0);var t=$(".js-gallery-image:eq("+a+")");return swapImage(t),!1}).on("click",".js-prev-arrow",function(){if(galAnimating)return!1;galAnimating=!0;var e=$(".js-gallery-image.chosen"),a=$(e).index()-1;$(e).removeClass("chosen"),a<0&&(a=$(".js-gallery-image").length-1);var t=$(".js-gallery-image:eq("+a+")");return swapImage(t),!1}),o(),$(window).resize(o),a.on("click",".js-load-more",function(){var e=$(this).addClass("button--loading"),a=$(".js-gallery-image").length,t=$(this).attr("data-year");return $(".js-load-more-holder .js-error-holder").hide(),minimumTimeout(Ajax.get({loadMoreCvrImages:!0,year:t,from:a}),1e3).then(function(a){e.removeClass("button--loading"),$.each(a.images,function(e,a){$(".js-cvr-photo-holder").append(a.html)}),a.more||$(".js-load-more-holder").hide()}).catch(function(a){e.removeClass("button--loading"),$(".js-load-more-holder .js-error-holder").text(result.message).show()}),!1}).on("click",".js-view-all",function(){var e=$(this).addClass("button--loading"),a=$(this).attr("data-year");return $(".js-load-more-holder .js-error-holder").hide(),minimumTimeout(Ajax.get({loadAllCvrImages:!0,year:a}),1e3).then(function(a){e.removeClass("button--loading"),$(".js-load-more-holder").hide();var t=$(".js-cvr-photo-holder").html("");$.each(a.images,function(e,a){t.append(a.html)})}).catch(function(a){e.removeClass("button--loading"),$(".js-load-more-holder .js-error-holder").text(result.message).show()}),!1}),$(".js-event-stats").on("animation-start",function(){$(".js-counter").each(function(){numberCounterAnimation($(this))})}),$(".js-counter").text("0")});
Page.register("/game-jams",function(t,n){function e(){var t=$(".js-countdown");if(0==$(".js-countdown").length)return void clearInterval(a);var n=Math.floor((new Date).getTime()/1e3),e=parseInt(t.attr("data-date"))-n,o=[{unit:2592e3,text:"Month"},{unit:86400,text:"Day"},{unit:3600,text:"Hour"},{unit:60,text:"Minute"},{unit:1,text:"Second"}];t.html(""),$.each(o,function(n,a){var o=Math.floor(e/a.unit);t.append($("<span>").addClass("countdown__item").append($("<span>").addClass("countdown__center").append($("<span>").addClass("countdown__number").text(o)).append($("<span>").addClass("countdown__type").text(a.text+(1!=o?"s":""))))),e%=a.unit})}var a=!1;setInterval(e,1e3)});
Page.register(new RegExp("^/(games|publishing)/([a-z-0-9]+)/?$"),function(e,a){StickySidebar.init();var i,o=!1,t=!1;if(window.onYouTubeIframeAPIReady=function(){window.youtubeLoaded=!0;var e=randomString(20);$(".js-video-holder").attr("id","player-"+e),i=new YT.Player("player-"+e,{origin:window.location.href,videoId:$(".js-trigger-video").attr("data-id"),playerVars:{autoplay:0,modestbranding:1,disablekb:0,showinfo:0,rel:0},events:{onReady:function(e){o=!0,i.setVolume(30),t&&i.playVideo()},onStateChange:function(e){$(".js-video-holder").attr("width",$(".js-trigger-video").width()).attr("height",$(".js-trigger-video").height()),e.data==YT.PlayerState.PLAYING?$(".js-trigger-video").stop().fadeOut(400,function(){$(this).removeClass("trigger-video--loading")}):e.data==YT.PlayerState.PAUSED?$(".js-trigger-video").fadeIn(400):e.data==YT.PlayerState.ENDED?($(".js-trigger-video").removeClass("trigger-video--loading").stop().fadeIn(400),i.seekTo(0),i.pauseVideo()):e.data==YT.PlayerState.BUFFERING&&$(".js-trigger-video").addClass("trigger-video--loading")}}})},void 0===window.youtubeLoaded){window.youtubeLoaded=!1;var r=document.createElement("script");r.src="https://www.youtube.com/iframe_api";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(r,n)}else!0===window.youtubeLoaded&&window.onYouTubeIframeAPIReady();a.on("click",".games-links a",function(){var e=$($(this).attr("href"));if(e.length>0)return $("html, body").animate({scrollTop:e.offset().top-$("header").outerHeight()-20},400),!1}).on("click",".js-downloads-button",function(){return $(this).toggleClass("button--dropdown-shown"),$(".js-downloads-list").toggle(),!1}).on("click",".js-trigger-video",function(){if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream)return $(".js-trigger-video").hide(),!1;$(this).addClass("trigger-video--loading"),o?i.playVideo():t=!0}),$("body").on("click",".js-gallery-image",function(){return modalWindow($(this)),!1}).on("click",".js-close-gallery",function(){return $(".js-gallery-image").removeClass("chosen"),$("body").removeClass("show-gallery show-gallery-full show-gallery-portrait show-gallery-landscape"),!1}).on("click",".js-next-arrow",function(){if(galAnimating)return!1;galAnimating=!0;var e=$(".js-gallery-image.chosen"),a=$(e).index()+1;$(e).removeClass("chosen"),a>=$(".js-gallery-image").length&&(a=0);var i=$(".js-gallery-image:eq("+a+")");return swapImage(i),!1}).on("click",".js-prev-arrow",function(){if(galAnimating)return!1;galAnimating=!0;var e=$(".js-gallery-image.chosen"),a=$(e).index()-1;$(e).removeClass("chosen"),a<0&&(a=$(".js-gallery-image").length-1);var i=$(".js-gallery-image:eq("+a+")");return swapImage(i),!1})});
Page.register(new RegExp("^/(games/([a-z-0-9]+)/press-kit)/?$"),function(e,i){if(window.onYouTubeIframeAPIReady=function(){window.youtubeLoaded=!0,$(".js-video").each(function(){var e,i=randomString(20),t=!1,o=!1,d=$(this);d.find(".js-video-holder").attr("id","player-"+i),e=new YT.Player("player-"+i,{origin:window.location.href,videoId:d.find(".js-trigger-video").attr("data-id"),playerVars:{autoplay:0,modestbranding:1,disablekb:0,showinfo:0,rel:0},events:{onReady:function(i){t=!0,e.setVolume(30),o&&e.playVideo()},onStateChange:function(i){d.find(".js-video-holder").attr("width",d.find(".js-trigger-video").width()).attr("height",d.find(".js-trigger-video").height()),i.data==YT.PlayerState.PLAYING?d.find(".js-trigger-video").stop().fadeOut(400,function(){$(this).removeClass("trigger-video--loading")}):i.data==YT.PlayerState.PAUSED?d.find(".js-trigger-video").fadeIn(400):i.data==YT.PlayerState.ENDED?(d.find(".js-trigger-video").removeClass("trigger-video--loading").stop().fadeIn(400),e.seekTo(0),e.pauseVideo()):i.data==YT.PlayerState.BUFFERING&&d.find(".js-trigger-video").addClass("trigger-video--loading")}}}),d.on("click",".js-trigger-video",function(){if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream)return d.find(".js-trigger-video").hide(),!1;$(this).addClass("trigger-video--loading"),t?e.playVideo():o=!0})})},void 0===window.youtubeLoaded){window.youtubeLoaded=!1;var t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(t,o)}else!0===window.youtubeLoaded&&window.onYouTubeIframeAPIReady();i.on("click",".games-links a",function(){var e=$($(this).attr("href"));if(e.length>0)return $("html, body").animate({scrollTop:e.offset().top-$("header").outerHeight()-20},400),!1})});
Page.register("/publishing",function(e,n){VRParallaxText.init(),n.on("click",".js-show-more",function(){return $(this).parent().parent().parent().addClass("publishing-box--shown"),!1}).on("click",".js-hide-more",function(){return $(this).parent().parent().parent().removeClass("publishing-box--shown"),!1});var r=new Image;r.src=$("a-sky").attr("src"),r.onload=r.onerror=function(){setTimeout(function(){$(".vr-header__image").addClass("vr-header__image--shown")},500)},/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&$(".vr-header, .vr-header .a-canvas").css("min-height",$(window).height()+"px")});
//# sourceMappingURL=init.js.map
